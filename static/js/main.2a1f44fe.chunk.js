(this.webpackJsonpprueba=this.webpackJsonpprueba||[]).push([[0],{20:function(e){e.exports=JSON.parse('{"matches":[{"id":1,"date":"2020-06-01","playerHome":"Jordi","playerOut":"David","score":"2-11 / 6-11 / 4-11","winner":"David"},{"id":2,"date":"2021-06-28","playerHome":" Pol","playerOut":"Marc","score":"6-11 / 7-11 / 6-11","winner":"Marc"},{"id":3,"date":"2021-03-02","playerHome":"Sara","playerOut":"Ernesto","score":"11-9 / 7-11 / 6-11 / 4-11","winner":"Sara"}],"matchesNotLastMonth":[]}')},31:function(e,t,a){},32:function(e,t,a){},33:function(e,t,a){"use strict";a.r(t);var c=a(1),n=a.n(c),r=a(10),s=a.n(r),l=a(9),o=a(2),i=a.p+"static/media/trophy.4eb8ddde.svg",d=a(0),u=function(){return Object(d.jsx)("div",{className:"container",children:Object(d.jsxs)("nav",{children:[Object(d.jsxs)("div",{children:[Object(d.jsxs)("div",{className:"header-title",children:[Object(d.jsx)("h1",{children:"Ping Pong Score"}),Object(d.jsx)("img",{src:i,alt:"trophy"})]}),Object(d.jsx)("div",{className:"header-name",children:Object(d.jsx)("p",{children:"by Jordi Mesas del Rio"})})]}),Object(d.jsxs)("div",{className:"header-formHome",children:[Object(d.jsx)(l.b,{to:"/table_tennis_score",children:Object(d.jsx)("i",{className:"fas fa-home"})}),Object(d.jsx)(l.b,{to:"/MatchInformation",children:Object(d.jsx)("i",{className:"fas fa-table-tennis"})})]})]})})},j=function(e){var t=e.children;return Object(d.jsxs)(d.Fragment,{children:[Object(d.jsx)("header",{children:Object(d.jsx)(u,{})}),Object(d.jsx)("main",{children:t})]})},h=a(3),m=function(e){var t=e.search,a=e.searchInput,c=e.handleSearch;return Object(d.jsxs)("div",{className:"score-search",children:[Object(d.jsx)("h5",{children:"Search by player name:"}),Object(d.jsx)("input",{type:"text",value:t,ref:a,onChange:c})]})},b=a.p+"static/media/chevron-right-purple.7452395a.svg",O=a.p+"static/media/chevron-down-purple.f6902967.svg",p=n.a.createContext({}),x=(a(31),function(e){var t=e.scoreForm,a=void 0===t?"":t,c=e.effectFormValidateDate,n=e.handleSubmit,r=e.match,s=void 0===r?"":r,l=e.stateButton,o=void 0!==l&&l;return Object(d.jsxs)(d.Fragment,{children:[Object(d.jsxs)("form",{ref:a,children:[o?Object(d.jsx)("input",{type:"number",placeholder:"game number",name:"id",min:"1",defaultValue:s.id,readOnly:!0}):Object(d.jsx)("input",{type:"number",placeholder:"game number",name:"id",min:"1"}),Object(d.jsx)("input",{type:"text",name:"date",onFocus:function(e){return e.currentTarget.type="date"},onBlur:function(e){return e.currentTarget.type="text"},placeholder:"today's date",max:c(),defaultValue:s.date}),Object(d.jsx)("input",{type:"text",placeholder:"Player name at home",name:"playerHome",defaultValue:s.playerHome}),Object(d.jsx)("input",{type:"text",placeholder:"Out player name",name:"playerOut",defaultValue:s.playerOut}),Object(d.jsx)("input",{type:"text",placeholder:"Score",name:"score",defaultValue:s.score}),Object(d.jsx)("input",{type:"text",placeholder:"Winner",name:"winner",defaultValue:s.winner})]}),Object(d.jsx)("div",{className:"Information-next",children:Object(d.jsx)("button",{type:"button",onClick:n,children:o?Object(d.jsx)(d.Fragment,{children:"Update"}):Object(d.jsx)(d.Fragment,{children:"Register"})})})]})}),f=function(e){var t=e.isShowing,a=e.hide,c=e.handleSubmit,r=e.effectFormValidateDate,l=e.scoreForm,o=e.match,i=e.state,u=e.validateSuccess;return t?s.a.createPortal(Object(d.jsxs)(n.a.Fragment,{children:[Object(d.jsx)("div",{className:"modal-overlay"}),Object(d.jsx)("div",{className:"modal-wrapper","aria-modal":!0,"aria-hidden":!0,tabIndex:-1,role:"dialog",children:Object(d.jsxs)("div",{className:"modal",children:[Object(d.jsx)("div",{className:"modal-header",children:Object(d.jsx)("button",{type:"button",className:"modal-close-button","data-dismiss":"modal","aria-label":"Close",onClick:a,children:Object(d.jsx)("span",{"aria-hidden":"true",children:"\xd7"})})}),Object(d.jsx)(x,{handleSubmit:c,effectFormValidateDate:r,scoreForm:l,match:o,stateButton:!0}),i?null:Object(d.jsx)("small",{className:"validate-alert",children:"Fill in the fields marked in red on the form!"}),u&&Object(d.jsx)("small",{className:"validate-successfully",children:"Updated successfully!"})]})})]}),document.body):null},g=function(){var e=Object(c.useState)(!1),t=Object(h.a)(e,2),a=t[0],n=t[1];return{isShowing:a,toggle:function(){n(!a)}}},v=function(e){var t=e.match,a=g(),n=a.isShowing,r=a.toggle,s=Object(c.useState)(!0),l=Object(h.a)(s,2),o=l[0],i=l[1],u=Object(c.useState)(!1),j=Object(h.a)(u,2),m=j[0],b=j[1],O=Object(c.useContext)(p),x=O.updateMatch,v=O.validateFields,y=O.effectFormValidateDate,w=Object(c.useRef)(null);return Object(d.jsxs)(d.Fragment,{children:[Object(d.jsx)("div",{onClick:r,children:Object(d.jsx)("i",{className:"fas fa-edit"})}),Object(d.jsx)(f,{isShowing:n,hide:r,effectFormValidateDate:y,scoreForm:w,match:t,handleSubmit:function(){console.log("hola"),i(!0),b(!1);var e=new FormData(w.current),t={id:parseInt(e.get("id")),date:e.get("date"),playerHome:e.get("playerHome"),playerOut:e.get("playerOut"),score:e.get("score"),winner:e.get("winner")};0===v().length?i(o=x(t)):i(o=!1),console.log(o),b(m=!!o)},state:o,validateSuccess:m})]})},y=function(e){var t=e.match,a=e.actionDeleteMatch,n=Object(c.useState)(!1),r=Object(h.a)(n,2),s=r[0],l=r[1];return Object(d.jsxs)("div",{className:"match-items",children:[Object(d.jsxs)("div",{className:"match-items-layout",children:[Object(d.jsxs)("div",{children:[Object(d.jsxs)("p",{children:["Players: ",t.playerHome," vs ",t.playerOut]}),Object(d.jsxs)("p",{children:[" Score: ",t.score]})]}),Object(d.jsx)(v,{match:t}),Object(d.jsx)("div",{onClick:a(t),children:Object(d.jsx)("i",{className:"fas fa-trash-alt"})}),Object(d.jsx)("div",{children:Object(d.jsx)("img",{onClick:function(){return l(!s)},src:s?O:b,alt:"arrow"})})]}),s&&Object(d.jsxs)("p",{className:"match-items-styleWinner",children:["The ",t.winner," player is the winner"]})]})},w=a.p+"static/media/chevron-right-black.757914a7.svg",N=a.p+"static/media/chevron-down-black.a815d3cb.svg",S=function(){var e=Object(c.useState)(!0),t=Object(h.a)(e,2),a=t[0],n=t[1],r=Object(c.useState)(!0),s=Object(h.a)(r,2),l=s[0],o=s[1],i=Object(c.useContext)(p),u=i.state,j=i.dateLastMonthShowDate,b=i.removeMatch,O=u.matches,x=Object(c.useState)(""),f=Object(h.a)(x,2),g=f[0],v=f[1],S=Object(c.useRef)(null),F=Object(c.useCallback)((function(){v(S.current.value)}),[]);console.log(O),console.log(u);var M=Object(c.useMemo)((function(){return O.filter((function(e){var t={homePlayers:e.playerHome.toLowerCase().includes(g.toLowerCase()),outPlayers:e.playerOut.toLowerCase().includes(g.toLowerCase())};return t.homePlayers?t.homePlayers:t.outPlayers}))}),[O,g]),D=function(e){return function(){b(e)}};return Object(d.jsx)("div",{className:"container",children:Object(d.jsxs)("div",{className:"score",children:[Object(d.jsxs)("nav",{children:[Object(d.jsx)("button",{className:"score-lastMonth",type:"button",onClick:function(){o(!l),j(l)},children:"Last Month"}),Object(d.jsx)(m,{search:g,searchInput:S,handleSearch:F}),Object(d.jsxs)("ul",{className:"score-allGames",children:[Object(d.jsx)("li",{children:"all the games"}),Object(d.jsxs)("li",{className:"score-allGames-animate",onClick:function(){n(!a)},children:[" ",Object(d.jsx)("img",{src:a?N:w,alt:"arrow"})," "]})]})]}),a?M.map((function(e){return Object(d.jsx)(y,{match:e,actionDeleteMatch:D},e.id)})):null]})})},F=function(){var e=Object(c.useState)(!0),t=Object(h.a)(e,2),a=t[0],n=t[1],r=Object(c.useState)(!0),s=Object(h.a)(r,2),l=s[0],o=s[1],i=Object(c.useState)(!1),u=Object(h.a)(i,2),j=u[0],m=u[1],b=Object(c.useContext)(p),O=b.addToMatch,f=b.validateFields,g=b.effectFormValidateDate,v=Object(c.useRef)(null);return Object(d.jsx)("div",{className:"container",children:Object(d.jsxs)("div",{className:"Information-form",children:[Object(d.jsx)("h5",{children:"Record the data of a match"}),Object(d.jsx)(x,{scoreForm:v,effectFormValidateDate:g,handleSubmit:function(){n(!0),o(!0),m(!1);var e=new FormData(v.current),t={id:parseInt(e.get("id")),date:e.get("date"),playerHome:e.get("playerHome"),playerOut:e.get("playerOut"),score:e.get("score"),winner:e.get("winner")};0===f().length?n(a=!0):n(a=!1),console.log(a),a&&o(O(t)),console.log(l),m(j=!!(a&&l||a&&!l))}}),a?null:Object(d.jsx)("small",{className:"validate-alert",children:"Fill in the fields marked in red on the form!"}),l?j&&Object(d.jsx)("small",{className:"validate-successfully",children:"Registered successfully!"}):Object(d.jsx)("small",{className:"validate-alert",children:"The match number already exists, put another number, the match number must be unique!"})]})})},M=function(){return Object(d.jsx)("h1",{children:"NotFound"})},D=a(12),C=a(6),k=a(20),H=function(){var e=Object(c.useState)(k),t=Object(h.a)(e,2),a=t[0],n=t[1];return{addToMatch:function(e){return console.log(a.matches),console.log(parseInt(e.id)),0===a.matches.filter((function(t){return t.id===e.id})).length?(n(Object(C.a)(Object(C.a)({},a),{},{matches:[].concat(Object(D.a)(a.matches),[e])})),!0):(console.log("el numero de partido tiene que ser unico"),!1)},updateMatch:function(e){return a.matches.map((function(t){t.id===e.id&&(t.date=e.date,t.playerHome=e.playerHome,t.playerOut=e.playerOut,t.score=e.score,t.winner=e.winner)})),console.log(a),n({matches:a.matches}),!0},validateFields:function(){for(var e=document.querySelectorAll("form > input"),t=[],a=0;a<e.length;a++)""===e[a].value?(e[a].style.border="1px solid red",t.push(a)):e[a].style.border="1px solid green";return t},effectFormValidateDate:function(){var e=new Date,t=e.getDate(),a=e.getMonth()+1,c=e.getFullYear();return t<10&&(t="0"+t),a<10&&(a="0"+a),e="".concat(c,"-").concat(a,"-").concat(t)},removeMatch:function(e){console.log(e),console.log(a.matches.filter((function(t){return t.id!==e.id}))),n(Object(C.a)(Object(C.a)({},a),{},{matches:a.matches.filter((function(t){return t.id!==e.id}))}))},dateLastMonthShowDate:function(e){var t={notLastMonth:a.matches.filter((function(e){return new Date(Date.parse(e.date)).getMonth()!==(new Date).getMonth()||new Date(Date.parse(e.date)).getFullYear()!==(new Date).getFullYear()})),lastMonth:a.matches.filter((function(e){return new Date(Date.parse(e.date)).getMonth()===(new Date).getMonth()&&new Date(Date.parse(e.date)).getFullYear()===(new Date).getFullYear()}))};e?0!==t.notLastMonth.length&&n(Object(C.a)(Object(C.a)({},a),{},{matches:t.lastMonth,matchesNotLastMonth:t.notLastMonth})):n(Object(C.a)(Object(C.a)({},a),{},{matches:[].concat(Object(D.a)(a.matches),Object(D.a)(a.matchesNotLastMonth))}))},state:a}},V=(a(32),function(){var e=H();return Object(d.jsx)(p.Provider,{value:e,children:Object(d.jsx)(l.a,{children:Object(d.jsx)(j,{children:Object(d.jsxs)(o.c,{children:[Object(d.jsx)(o.a,{exact:!0,path:"/table_tennis_score",component:S}),Object(d.jsx)(o.a,{exact:!0,path:"/MatchInformation",component:F}),Object(d.jsx)(o.a,{component:M})]})})})})});s.a.render(Object(d.jsx)(V,{}),document.getElementById("app"))}},[[33,1,2]]]);
//# sourceMappingURL=main.2a1f44fe.chunk.js.map