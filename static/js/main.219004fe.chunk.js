(this.webpackJsonpprueba=this.webpackJsonpprueba||[]).push([[0],{21:function(e){e.exports=JSON.parse('{"matches":[{"id":1,"date":"2020-06-01","playerHome":"Jordi","playerOut":"David","score":"2-11 / 6-11 / 4-11","winner":"David"},{"id":2,"date":"2021-06-28","playerHome":" Pol","playerOut":"Marc","score":"6-11 / 7-11 / 6-11","winner":"Marc"},{"id":3,"date":"2021-03-02","playerHome":"Sara","playerOut":"Ernesto","score":"11-9 / 7-11 / 6-11 / 4-11","winner":"Sara"}],"matchesNotLastMonth":[]}')},32:function(e,t,a){},34:function(e,t,a){},35:function(e,t,a){},36:function(e,t,a){"use strict";a.r(t);var c=a(1),n=a.n(c),r=a(10),s=a.n(r),l=a(9),o=a(2),i=a.p+"static/media/trophy.4eb8ddde.svg",d=a(0),j=function(){return Object(d.jsx)("div",{className:"container",children:Object(d.jsxs)("nav",{children:[Object(d.jsxs)("div",{children:[Object(d.jsxs)("div",{className:"header-title",children:[Object(d.jsx)("h1",{children:"Ping Pong Score"}),Object(d.jsx)("img",{src:i,alt:"trophy"})]}),Object(d.jsx)("div",{className:"header-name",children:Object(d.jsx)("p",{children:"by Jordi Mesas del Rio"})})]}),Object(d.jsxs)("div",{className:"header-formHome",children:[Object(d.jsx)(l.b,{to:"/table_tennis_score",children:Object(d.jsx)("i",{className:"fas fa-home"})}),Object(d.jsx)(l.b,{to:"/MatchInformation",children:Object(d.jsx)("i",{className:"fas fa-table-tennis"})})]})]})})},u=function(e){var t=e.children;return Object(d.jsxs)(d.Fragment,{children:[Object(d.jsx)("header",{children:Object(d.jsx)(j,{})}),Object(d.jsx)("main",{children:t})]})},m=a(3),h=function(e){var t=e.search,a=e.searchInput,c=e.handleSearch;return Object(d.jsxs)("div",{className:"score-search",children:[Object(d.jsx)("h5",{children:"player name:"}),Object(d.jsx)("input",{type:"text",value:t,ref:a,onChange:c})]})},b=a.p+"static/media/chevron-right-purple.7452395a.svg",O=n.a.createContext({}),p=(a(32),function(e){var t=e.scoreForm,a=void 0===t?"":t,c=e.effectFormValidateDate,n=e.handleSubmit,r=e.match,s=void 0===r?"":r,l=e.stateButton,o=void 0!==l&&l;return Object(d.jsxs)(d.Fragment,{children:[Object(d.jsxs)("form",{ref:a,children:[o?Object(d.jsx)("input",{type:"number",placeholder:"game number",name:"id",min:"1",defaultValue:s.id,readOnly:!0}):Object(d.jsx)("input",{type:"number",placeholder:"game number",name:"id",min:"1"}),Object(d.jsx)("input",{type:"text",name:"date",onFocus:function(e){return e.currentTarget.type="date"},onBlur:function(e){return e.currentTarget.type="text"},placeholder:"today's date",max:c(),defaultValue:s.date}),Object(d.jsx)("input",{type:"text",placeholder:"Player name at home",name:"playerHome",defaultValue:s.playerHome}),Object(d.jsx)("input",{type:"text",placeholder:"Out player name",name:"playerOut",defaultValue:s.playerOut}),Object(d.jsx)("input",{type:"text",placeholder:"Score",name:"score",defaultValue:s.score}),Object(d.jsx)("input",{type:"text",placeholder:"Winner",name:"winner",defaultValue:s.winner})]}),Object(d.jsx)("div",{className:"Information-next",children:Object(d.jsx)("button",{type:"button",onClick:n,children:o?Object(d.jsx)(d.Fragment,{children:"Update"}):Object(d.jsx)(d.Fragment,{children:"Register"})})})]})}),f=function(e){var t=e.isShowing,a=e.hide,c=e.handleSubmit,r=e.effectFormValidateDate,l=e.scoreForm,o=e.match,i=e.state,j=e.validateSuccess;return t?s.a.createPortal(Object(d.jsxs)(n.a.Fragment,{children:[Object(d.jsx)("div",{className:"modal-overlay"}),Object(d.jsx)("div",{className:"modal-wrapper","aria-modal":!0,"aria-hidden":!0,tabIndex:-1,role:"dialog",children:Object(d.jsxs)("div",{className:"modal",children:[Object(d.jsx)("div",{className:"modal-header",children:Object(d.jsx)("button",{type:"button",className:"modal-close-button","data-dismiss":"modal","aria-label":"Close",onClick:a,children:Object(d.jsx)("span",{"aria-hidden":"true",children:"\xd7"})})}),Object(d.jsxs)("div",{className:"Information-form",children:[Object(d.jsx)("h5",{children:"Update the matches"}),Object(d.jsx)(p,{handleSubmit:c,effectFormValidateDate:r,scoreForm:l,match:o,stateButton:!0})]}),i?null:Object(d.jsx)("small",{className:"validate-alert",children:"Fill in the fields marked in red on the form!"}),j&&Object(d.jsx)("small",{className:"validate-successfully",children:"Updated successfully!"})]})})]}),document.body):null},x=function(){var e=Object(c.useState)(!1),t=Object(m.a)(e,2),a=t[0],n=t[1];return{isShowing:a,toggle:function(){n(!a)}}},g=function(e){var t=e.match,a=x(),n=a.isShowing,r=a.toggle,s=Object(c.useState)(!0),l=Object(m.a)(s,2),o=l[0],i=l[1],j=Object(c.useState)(!1),u=Object(m.a)(j,2),h=u[0],b=u[1],p=Object(c.useContext)(O),g=p.updateMatch,v=p.validateFields,y=p.effectFormValidateDate,w=Object(c.useRef)(null);return Object(d.jsxs)(d.Fragment,{children:[Object(d.jsx)("div",{onClick:r,children:Object(d.jsx)("i",{className:"fas fa-edit"})}),Object(d.jsx)(f,{isShowing:n,hide:r,effectFormValidateDate:y,scoreForm:w,match:t,handleSubmit:function(){console.log("hola"),i(!0),b(!1);var e=new FormData(w.current),t={id:parseInt(e.get("id")),date:e.get("date"),playerHome:e.get("playerHome"),playerOut:e.get("playerOut"),score:e.get("score"),winner:e.get("winner")};0===v().length?i(o=g(t)):i(o=!1),console.log(o),b(o?(h=!0)&&r():h=!1)},state:o,validateSuccess:h})]})},v=function(e){var t=e.match,a=e.actionDeleteMatch,n=e.SlideDown,r=e.animateArrow,s=Object(c.useState)(!1),l=Object(m.a)(s,2),o=l[0],i=l[1];return Object(d.jsxs)("div",{className:"match-items",children:[Object(d.jsxs)("div",{className:"match-items-layout",children:[Object(d.jsxs)("div",{children:[Object(d.jsxs)("p",{children:["Players: ",t.playerHome," vs ",t.playerOut]}),Object(d.jsxs)("p",{children:[" Score: ",t.score]})]}),Object(d.jsx)(g,{match:t}),Object(d.jsx)("div",{onClick:a(t),children:Object(d.jsx)("i",{className:"fas fa-trash-alt"})}),Object(d.jsx)("div",{className:"score-player-animate",onClick:function(e){i(!o),r(o,e.target,!1)},children:Object(d.jsx)("img",{src:b,alt:"arrow"})})]}),Object(d.jsx)(n,{children:o&&Object(d.jsxs)("p",{className:"match-items-styleWinner",children:["The ",t.winner," player is the winner"]})})]})},y=a(17),w=(a(34),a.p+"static/media/chevron-down-black.a815d3cb.svg"),N=function(){var e=Object(c.useState)(!0),t=Object(m.a)(e,2),a=t[0],n=t[1],r=Object(c.useState)(!0),s=Object(m.a)(r,2),l=s[0],o=s[1],i=Object(c.useContext)(O),j=i.state,u=i.dateLastMonthShowDate,b=i.removeMatch,p=i.animateArrow,f=j.matches,x=Object(c.useState)(""),g=Object(m.a)(x,2),N=g[0],S=g[1],D=Object(c.useRef)(null),F=Object(c.useCallback)((function(){S(D.current.value)}),[]);console.log(f),console.log(j);var M=Object(c.useMemo)((function(){return f.filter((function(e){var t={homePlayers:e.playerHome.toLowerCase().includes(N.toLowerCase()),outPlayers:e.playerOut.toLowerCase().includes(N.toLowerCase())};return t.homePlayers?t.homePlayers:t.outPlayers}))}),[f,N]),C=function(e){return function(){b(e)}};return Object(d.jsx)("div",{className:"container",children:Object(d.jsxs)("div",{className:"score",children:[Object(d.jsxs)("nav",{children:[Object(d.jsx)("button",{className:"score-lastMonth",type:"button",onClick:function(){o(!l),u(l)},children:"last month"}),Object(d.jsx)(h,{search:N,searchInput:D,handleSearch:F}),Object(d.jsxs)("ul",{className:"score-allGames",children:[Object(d.jsx)("li",{children:"all the games"}),Object(d.jsx)("li",{className:"score-allGames-animate",onClick:function(){n(!a);var e=document.getElementsByClassName("score-allGames-animate")[0];p(a,e)},children:Object(d.jsx)("img",{src:w,alt:"arrow"})})]})]}),Object(d.jsx)(y.SlideDown,{children:a?M.map((function(e){return Object(d.jsx)(v,{match:e,SlideDown:y.SlideDown,actionDeleteMatch:C,animateArrow:p},e.id)})):null})]})})},S=function(){var e=Object(c.useState)(!0),t=Object(m.a)(e,2),a=t[0],n=t[1],r=Object(c.useState)(!0),s=Object(m.a)(r,2),l=s[0],o=s[1],i=Object(c.useState)(!1),j=Object(m.a)(i,2),u=j[0],h=j[1],b=Object(c.useContext)(O),f=b.addToMatch,x=b.validateFields,g=b.effectFormValidateDate,v=Object(c.useRef)(null);return Object(d.jsx)("div",{className:"container",children:Object(d.jsxs)("div",{className:"Information-form",children:[Object(d.jsx)("h5",{children:"Record the data of a match"}),Object(d.jsx)(p,{scoreForm:v,effectFormValidateDate:g,handleSubmit:function(){n(!0),o(!0),h(!1);var e=new FormData(v.current),t={id:parseInt(e.get("id")),date:e.get("date"),playerHome:e.get("playerHome"),playerOut:e.get("playerOut"),score:e.get("score"),winner:e.get("winner")};0===x().length?n(a=!0):n(a=!1),console.log(a),a&&o(f(t)),console.log(l),h(u=!!(a&&l||a&&!l))}}),a?null:Object(d.jsx)("small",{className:"validate-alert",children:"Fill in the fields marked in red on the form!"}),l?u&&Object(d.jsx)("small",{className:"validate-successfully",children:"Registered successfully!"}):Object(d.jsx)("small",{className:"validate-alert",children:"The match number already exists, put another number, the match number must be unique!"})]})})},D=function(){return Object(d.jsx)("h1",{children:"NotFound"})},F=a(12),M=a(6),C=a(21),H=function(){var e=Object(c.useState)(C),t=Object(m.a)(e,2),a=t[0],n=t[1],r=function(){return document.getElementsByTagName("form")[0].reset()};return{addToMatch:function(e){return console.log(a.matches),console.log(parseInt(e.id)),0===a.matches.filter((function(t){return t.id===e.id})).length?(n(Object(M.a)(Object(M.a)({},a),{},{matches:[].concat(Object(F.a)(a.matches),[e])})),r(),!0):(console.log("el numero de partido tiene que ser unico"),!1)},updateMatch:function(e){return a.matches.map((function(t){t.id===e.id&&(t.date=e.date,t.playerHome=e.playerHome,t.playerOut=e.playerOut,t.score=e.score,t.winner=e.winner)})),console.log(a),n({matches:a.matches}),r(),!0},validateFields:function(){for(var e=document.querySelectorAll("form > input"),t=[],a=0;a<e.length;a++)""===e[a].value?(e[a].style.border="1px solid red",t.push(a)):e[a].style.border="1px solid green";return t},effectFormValidateDate:function(){var e=new Date,t=e.getDate(),a=e.getMonth()+1,c=e.getFullYear();return t<10&&(t="0"+t),a<10&&(a="0"+a),e="".concat(c,"-").concat(a,"-").concat(t)},removeMatch:function(e){console.log(e),console.log(a.matches.filter((function(t){return t.id!==e.id}))),n(Object(M.a)(Object(M.a)({},a),{},{matches:a.matches.filter((function(t){return t.id!==e.id}))}))},dateLastMonthShowDate:function(e){var t={notLastMonth:a.matches.filter((function(e){return new Date(Date.parse(e.date)).getMonth()!==(new Date).getMonth()||new Date(Date.parse(e.date)).getFullYear()!==(new Date).getFullYear()})),lastMonth:a.matches.filter((function(e){return new Date(Date.parse(e.date)).getMonth()===(new Date).getMonth()&&new Date(Date.parse(e.date)).getFullYear()===(new Date).getFullYear()}))};e?0!==t.notLastMonth.length&&n(Object(M.a)(Object(M.a)({},a),{},{matches:t.lastMonth,matchesNotLastMonth:t.notLastMonth})):n(Object(M.a)(Object(M.a)({},a),{},{matches:[].concat(Object(F.a)(a.matches),Object(F.a)(a.matchesNotLastMonth))}))},animateArrow:function(e,t){var a=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];t.style.transition="200ms ease-in-out all",t.style.transform=a?e?"rotate(-90deg)":"rotate(0)":e?"rotate(0)":"rotate(90deg)"},state:a}},V=(a(35),function(){var e=H();return Object(d.jsx)(O.Provider,{value:e,children:Object(d.jsx)(l.a,{children:Object(d.jsx)(u,{children:Object(d.jsxs)(o.c,{children:[Object(d.jsx)(o.a,{exact:!0,path:"/table_tennis_score",component:N}),Object(d.jsx)(o.a,{exact:!0,path:"/MatchInformation",component:S}),Object(d.jsx)(o.a,{component:D})]})})})})});s.a.render(Object(d.jsx)(V,{}),document.getElementById("app"))}},[[36,1,2]]]);
//# sourceMappingURL=main.219004fe.chunk.js.map